<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KMHarchive - ê²€ìƒ‰</title>
  <link rel="icon" href="favicon.ico">
  <style>
    @font-face {
      font-family: 'Pretendard-Regular';
      src: url('https://fastly.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Regular.woff') format('woff');
      font-weight: 400;
      font-style: normal;
    }

    body {
      font-family: 'Pretendard-Regular', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f9f9ff;
      color: #333;
      text-align: center;
      font-size: 14px;
    }

    /* í—¤ë” (í”„ë¡œí•„ ì˜ì—­) */
    .header-container {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top:40px;
    }

    .profile-pic {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      margin-right: 15px;
    }

    .profile-text .nickname {
      font-weight: bold;
      font-size: 17px;
      align-items: flex-start;
      display: flex;
      flex-direction: column;
    }

    .profile-text .username {
      color: #333;
      font-size: 13px;
      margin-top: 2px;
      align-items: flex-start;
      display: flex;
      flex-direction: column;
    }

    .profile-text .status {
      font-size: 13px;
      color: gray;
      margin-top: 2px;
      align-items: flex-start;
      display: flex;
      flex-direction: column;
    }

    /* ì¤‘ì•™ ì†Œê°œ */
    .centered-info {
      text-align: center;
      margin-top: 25px;
      padding: 0 20px;
    }
    .centered-info .title {
      font-weight: normal;
      font-size: 14px;
      margin-bottom: 4px;
      color: #555;
    }
    .centered-info .subtitle {
      font-size: 14px;
      color: #555;
    }
    .centered-info .period {
      font-size: 14px;
      margin-top: 3px;
      color: #777;
    }

    /* info-box (ê²€ìƒ‰ ì•ˆë‚´ ì¹´ë“œ) */
    .info-box {
      background-color: #ffffff;
      border-radius: 15px;
      padding: 20px;
      margin: 30px auto 20px auto;
      width: 90%;
      max-width: 320px;
      line-height: 1.6;
      text-align: left;
      color: #555;
    }

    /* ê²€ìƒ‰ ë°•ìŠ¤ */
    .search-box {
      margin: 15px 0;
      display: flex;
      gap: 8px;
      justify-content: center;
    }
    .search-box input {
      flex: 1;
      padding: 10px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 20px;
      outline: none;
    }
    .search-box input:focus {
      border-color: #7746ff;
    }
    .search-box button {
      padding: 10px 16px;
      font-size: 14px;
      border: none;
      border-radius: 20px;
      background-color: #7746ff;
      color: white;
      cursor: pointer;
    }
    .search-box button:hover {
      background-color: #5e36d4;
    }

    /* ê²€ìƒ‰ ê²°ê³¼ */
    .result {
      margin-top: 20px;
      text-align: left;
      max-width: 320px;
      margin-left: auto;
      margin-right: auto;
    }
    .date-title {
      font-weight: bold;
      font-size: 15px;
      margin-top: 15px;
      color: #333;
    }
.message {
  display: block;
  background: #eee8fe;
  padding: 8px 12px;
  border-radius: 12px;
  margin: 5px 0;
  white-space: pre-wrap;
  color: #333;           /* ê¸°ë³¸ ê¸€ì”¨ìƒ‰ */
  text-decoration: none; /* ë°‘ì¤„ ì œê±° */
}
.message:hover {
  background: #d9d3ff;   /* í˜¸ë²„ ì‹œ ê°•ì¡° */
}

  </style>
</head>
<body>

  <!-- í”„ë¡œí•„ ì˜ì—­ (indexì™€ ë™ì¼) -->
  <div class="header-container">
    <img src="/profile/221123.JPG" class="profile-pic" alt="í”„ì‚¬">
    <div class="profile-text">
      <div class="nickname">ë¯¸ë‹ˆê°•ì¥ğŸ¶â¤ï¸</div>
      <div class="username">@min_h.ee</div>
      <div class="status">ëŸ¬ë¹„í‹°ê°€ ë„ˆë¬´ ë³´ê³ ì‹¶ë‹¤ì•„ì•„ì•„!!!!</div>
    </div>
  </div>

  <!-- ê²€ìƒ‰ ì•ˆë‚´ + ê²€ìƒ‰ì°½ -->
  <div class="info-box">
    ğŸ“Œ ê²€ìƒ‰ ì•ˆë‚´<br><br>
    - ë‚ ì§œ ì—¬ì„¯ ìë¦¬(ì˜ˆ: 210416)ë¥¼ ì…ë ¥í•˜ë©´ í•´ë‹¹ í˜ì´ì§€ë¡œ ë°”ë¡œ ì´ë™í•©ë‹ˆë‹¤.<br>
    - í…ìŠ¤íŠ¸ ê²€ìƒ‰ì€ ì…ë ¥í•œ ë¬¸êµ¬(ë„ì–´ì“°ê¸° í¬í•¨)ê°€ ì •í™•íˆ ë“¤ì–´ê°„ ë©”ì‹œì§€ë§Œ ì°¾ìŠµë‹ˆë‹¤.<br>
    - ê²°ê³¼ê°€ ì—†ì„ ê²½ìš° "ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤" ë¼ê³  í‘œì‹œë©ë‹ˆë‹¤.<br><br>

    <div class="search-box">
      <input type="text" id="searchInput" placeholder="ë‚ ì§œ(210416) ë˜ëŠ” í…ìŠ¤íŠ¸ ì…ë ¥">
      <button onclick="doSearch()">ê²€ìƒ‰</button>
    </div>
  </div>

  <!-- ê²€ìƒ‰ ê²°ê³¼ -->
  <div id="results" class="result"></div>

  <script>
  async function doSearch() {
    let input = document.getElementById("searchInput").value.trim();
    let resultsDiv = document.getElementById("results");
    resultsDiv.innerHTML = "";

    if (/^\d{6}$/.test(input)) {
      window.location.href = input + ".html";
      return;
    }

    if (input === "") {
      resultsDiv.innerHTML = "<p>ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>";
      return;
    }

    try {
      let response = await fetch("search_data.json");
      let data = await response.json();

      let matches = data.filter(item => item.text.includes(input));

      if (matches.length === 0) {
        resultsDiv.innerHTML = "<p>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>";
        return;
      }

      let grouped = {};
      matches.forEach(item => {
        if (!grouped[item.date]) grouped[item.date] = [];
        grouped[item.date].push(item.text);
      });

      for (let date in grouped) {
        let block = document.createElement("div");
        block.innerHTML = `<div class="date-title">${date}</div>`;
        grouped[date].forEach(msg => {
          block.innerHTML += `<div class="message">${msg}</div>`;
        });
        resultsDiv.appendChild(block);
      }
    } catch (err) {
      resultsDiv.innerHTML = "<p>âš ï¸ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>";
      console.error(err);
    }
  }
  </script>
</body>
</html>

